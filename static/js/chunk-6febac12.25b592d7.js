(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6febac12"],{"7f4f":function(e,t,i){},8027:function(e,t,i){"use strict";i("7f4f")},d18a:function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"rootDiv"},[t("div",{attrs:{id:"containerDiv"}},[t("div",{attrs:{id:"bim"}}),t("div",{attrs:{id:"panoramic"}}),t("div",{attrs:{id:"ui"}},[t("el-slider",{on:{input:e.onChange},model:{value:e.opacity,callback:function(t){e.opacity=t},expression:"opacity"}})],1)]),e._m(0)])},a=[function(){var e=this,t=e._self._c;return t("pre",{staticClass:"line-numbers"},[t("code",{staticClass:"language-js"},[e._v("#代码示范\n           把全景图和三维模型场景的两个Viewer的div叠到一起，然后控制全景图的div透明度\n")])])}],n={name:"PanoramicOverlay",data:function(){return{opacity:80,yaw:70,pitch:-2}},methods:{onChange:function(e){var t=document.getElementById("panoramic"),i=e/100;console.info(i),t.style.opacity=i},createPanoramic:function(){var e=document.getElementById("panoramic"),t=new BIMI.BimViewer(e,{id:"panoramicViewer"});t.setScenePanoramic("datas/skybox/1235.jpg"),this.setPanoramicDefaultOrbit()},setPanoramicDefaultOrbit:function(){var e=BIMI.ViewerHelper.getViewer("panoramicViewer"),t={position:{x:0,y:0,z:0},quaternion:{x:-.06635499364895026,y:.11403174830228421,z:.007633527392872102,w:.9912292895473359},target:{x:0,y:0,z:0},zoom:1};e.setDefaultOrbitState(t),e.setOrbitMaxDistance(10),e._orbitControl.lock=!0,e._orbitControl.enableZoom=!1},createBim:function(){var e=document.getElementById("bim"),t=new BIMI.BimViewer(e,{id:"bimViewer"});this.setBimDefaultOrbit(),t.load("datas/半径项目Revit文件/bim.bin",{updateRegion:!1})},setBimDefaultOrbit:function(){var e=BIMI.ViewerHelper.getViewer("panoramicViewer"),t=e.getOrbitState(),i=this.pitch,r=this.yaw;t.position={x:-43,y:16.55,z:6.491},t.target={x:-43,y:16.55,z:6.491};var a=e.skewOrbitState(t,i,r),n=BIMI.ViewerHelper.getViewer("bimViewer");n.setDefaultOrbitState(a)},syncOrbit:function(){var e=this,t=BIMI.ViewerHelper.getViewer("panoramicViewer");t._orbitControl.addEventListener("change",(function(i){if(i.state==BIMI.ControlState.ROTATE||i.state==BIMI.ControlState.TOUCH_ROTATE){var r=t.getOrbitState(),a=e.pitch,n=e.yaw;r.position={x:-43,y:16.55,z:6.491},r.target={x:-43,y:16.55,z:6.491};var o=t.skewOrbitState(r,a,n),c=BIMI.ViewerHelper.getViewer("bimViewer");c.setOrbitState(o)}}))}},mounted:function(){var e=this;this.$nextTick((function(){e.createPanoramic(),e.createBim(),e.syncOrbit(),Prism.highlightAll()}))},beforeDestroy:function(){var e=BIMI.ViewerHelper.getViewer("panoramicViewer");e.dispose();var t=BIMI.ViewerHelper.getViewer("bimViewer");t.dispose()}},o=n,c=(i("8027"),i("2877")),s=Object(c["a"])(o,r,a,!1,null,"1d63c2c0",null);t["default"]=s.exports}}]);