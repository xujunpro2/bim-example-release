(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ba03da68"],{"6f82":function(e,n,i){"use strict";i("abb2")},abb2:function(e,n,i){},adab:function(e,n,i){"use strict";i.r(n);var t=function(){var e=this,n=e._self._c;return n("div",{staticClass:"rootDiv"},[n("div",{staticClass:"messageDiv"},[e._v(" 将Dom直接转为三维平面，并且始终面向相机。支持Pick事件和绑定业务参数 "),n("br"),n("span",{staticStyle:{color:"red"}},[e._v("注意：因为Dom转贴图是异步的，所以dom的remove操作在插件内部就完成了，开发者不需要在自己remove这个dom了")]),n("br"),e._v("可通过zoom属性设置是否缩放，默认值为false。 "),n("br"),e._v("受限于当前WebGL能力，贴图清晰度不够完美。 "),n("el-button",{on:{click:e.update}},[e._v("改变位置和标签内容")])],1),e._m(0),e._m(1)])},o=[function(){var e=this,n=e._self._c;return n("div",{attrs:{id:"containerDiv"}},[n("div",{staticClass:"sprite",attrs:{id:"hello"}},[n("span",[e._v("1#离心机")]),n("br"),n("img",{attrs:{width:"36",height:"36",src:"vue.png"}})])])},function(){var e=this,n=e._self._c;return n("pre",{staticClass:"line-numbers"},[n("code",{staticClass:"language-js"},[e._v("#代码示范\n        addLabel()\n        {\n            var viewer = BIMI.ViewerHelper.getViewer();\n            var plugin = viewer.getPlugin('SpriteDomPlugin');\n            if(!plugin)\n            {\n                plugin = new BIMI.SpriteDomPlugin();\n                viewer.addPlugin(plugin);\n            }\n            var divDom = document.getElementById('hello');\n            /**\n             * 根据Dom创建并返回该三维对象\n             * @param {Object} option \n             * id:Number 标签对象的ID，可以通过该ID来删除标签\n             * dom:需要转Sprite的Dom元素,可以通过css设置该dom不可见，请确保dom已经完全渲染后再调用该函数\n             * position:位置Vector3对象,该dom的中心点将置于position\n             * zoom:true/false 是否跟随缩放,默认不缩放\n             * bindData:object 业务绑定数据，可以在pick的时候返回\n             * distance:Number 视距\n             */\n            plugin.addLabel({\n                id:100,\n                zoom:false,\n                dom:divDom,\n                position:new BIMI.THREE.Vector3(-2,3.7,-4.5),\n                bindData:{'myId':1234,'myType':'业务类型ABC'},\n                distance:40\n            })\n            viewer.isDirty();\n        }  \n")])])}],a={name:"SpriteDom",data:function(){return{loading:!0}},methods:{update:function(){var e=BIMI.ViewerHelper.getViewer(),n=e.getPlugin("SpriteDomPlugin");n.updatePosition(100,new BIMI.THREE.Vector3(-2,6.7,-4.5));var i=n.getLabelDom(100);i.querySelector("#hello span").innerHTML="修改后的文本",n.updateContent(100,{dom:i})},addLabel:function(){var e=BIMI.ViewerHelper.getViewer(),n=e.getPlugin("SpriteDomPlugin");n||(n=new BIMI.SpriteDomPlugin,e.addPlugin(n));var i=document.getElementById("hello");n.addLabel({id:100,zoom:!1,dom:i,position:new BIMI.THREE.Vector3(-2,3.7,-4.5),bindData:{myId:1234,myType:"业务类型ABC"},distance:40}),e.isDirty()}},mounted:function(){var e=this;this.$nextTick((function(){var n=document.getElementById("containerDiv"),i=new BIMI.BimViewer(n);i.load("datas/冷站/bim.bin"),i.on("loaded",(function(n){e.addLabel()})),i.on("pick",(function(e){alert(e.data.myId+" "+e.data.myType)})),Prism.highlightAll()}))},beforeDestroy:function(){var e=BIMI.ViewerHelper.getViewer();e&&e.dispose()}},r=a,d=(i("6f82"),i("2877")),l=Object(d["a"])(r,t,o,!1,null,"46e7b26a",null);n["default"]=l.exports}}]);