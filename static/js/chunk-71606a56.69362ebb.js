(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-71606a56"],{"0a5d":function(e,t,a){"use strict";a("4a90")},"4a90":function(e,t,a){},f1c8d:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},o=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"rootDiv"},[a("div",{attrs:{id:"containerDiv"}})])}],i=(a("159b"),{name:"HeatmapMap",data:function(){return{}},methods:{AddHeatmap:function(){var e=BIMI.ViewerHelper.getViewer(),t=e.getPlugin("HeatmapPlugin");t||(t=new BIMI.HeatmapPlugin,e.addPlugin(t));var a=[31.384308,120.710107,30.806931,121.47866],n=30.87,o=31.3,i=120.77,r=121.4,l=[],u=50;while(u--){var c={x:Math.random()*(r-i)+i,y:Math.random()*(o-n)+n,value:Math.floor(50*Math.random())};l.push(c)}var s=BIMI.MapTools.latlngToVector(a[0],a[1]),d=BIMI.MapTools.latlngToVector(a[2],a[3]);t.setEnvelope(s.x,s.z,d.x,d.z),l.forEach((function(e){var t=BIMI.MapTools.latlngToVector(e.y,e.x);e.x=t.x,e.y=t.z})),t.setSimplePoints(l),t.maxHeight=1e4,t.create(300,40,[0,0,0])},createMatrix:function(e,t,a){var n=BIMI.MapTools.latlngToVector(e[0],e[1]),o=BIMI.MapTools.latlngToVector(e[2],e[3]),i=[];t.forEach((function(e){var t=BIMI.MapTools.latlngToVector(e.latitude,e.longitude);i.push({x:t.x,y:t.z,value:e.value})}));var r={config:{count:100,power:5,sampleCount:15},sampelPoints:i,bounds:[n.x,n.z,o.x,o.z]},l=a.getGridMatrix(r);return l}},mounted:function(){var e=this;this.$nextTick((function(){var t=document.getElementById("containerDiv"),a=new BIMI.BimViewer(t),n=a.getPlugin("MapPlugin");null==n&&(n=new BIMI.MapPlugin({terrain:!1}),a.addPlugin(n)),n.useMapBox("","mapbox/dark-v9"),n.setDefaultCamera({latitude:31.220868,longitude:121.176679,height:177686,pitch:-90,yaw:0}),a.isDirty(),setTimeout((function(){e.AddHeatmap()}),3e3)}))},beforeDestroy:function(){var e=BIMI.ViewerHelper.getViewer();e&&e.dispose()}}),r=i,l=(a("0a5d"),a("2877")),u=Object(l["a"])(r,n,o,!1,null,"322e6196",null);t["default"]=u.exports}}]);